# 函数调用机制的理解

## 前置知识

* 程序计数器Program Counter：用来存储下一条指令所在的地址
* 三大条件控制流程
	* 顺序：最简单，就是PC++
	* 条件、循环：使PC指向任意的地址，这样程序就可以跳转到任意指令了。

## 函数调用机制

![](https://pic.imgdb.cn/item/641fd171a682492fcc41d7ac.jpg)

执行MyFun函数过程
* 调用函数执行 `call指令` 把下一个指令的地址 0154 存放在一个叫“栈”的主存中。
* 并把调用函数的地址 0260 设置到PC上
* 完成函数。执行`return指令`,函数结束后，会从栈中拿回下一个指令的地址0154，并且把它设置到PC上

## 【补充】数组的实现

基址寄存器+变址寄存器=实现数组

![](https://pic.imgdb.cn/item/641fddc2a682492fcc56d8a5.jpg)